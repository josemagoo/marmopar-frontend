import Layout from "@/components/Layout";
import { sendEmail } from "@/service/contact";
import React, { useState } from "react";
import toast from "react-hot-toast";

const Input = ({ ...rest }) => {
  return (
    <input
      className="h-[53px] shadow-[0px_2px_2px_0px_rgba(0,_0,_0,_0.15)] px-6 w-full"
      {...rest}
    />
  );
};

interface EmailProps {
  name: string;
  email: string;
  body: string;
}

export default function Contacto() {
  const [infoEmail, setInfoEmail] = useState<EmailProps>({
    name: "",
    body: "",
    email: "",
  });
  const [loading, setLoading] = useState<boolean>(false);

  const handleSendEmail = async (e: any) => {
    e.preventDefault();

    try {
      setLoading(true);
      const response = await sendEmail(infoEmail);

      if (response.data.success) {
        toast.success("Email enviado correctamente");
        setInfoEmail({ name: "", body: "", email: "" });
        return;
      }

      toast.success("Ha ocurrido un problema");
    } catch (error) {
      toast.success("Ha ocurrido un problema");
      console.log(error);
    } finally {
      setLoading(false);
    }

    console.log(infoEmail);
  };

  return (
    <Layout>
      <header
        data-aos="fade-up"
        data-aos-delay="100"
        className="mx-4 lg:mx-16 relative bg-[url('/assets/images/banner-contacto.png')] h-[180px] lg:h-[300px] bg-cover bg-center rounded-bl-2xl rounded-br-2xl"
      >
        <div className="container h-full flex items-center">
          <h3 className="text-4xl text-white font-bold ">Contacto</h3>
        </div>
      </header>

      <div className="container py-16 grid lg:grid-cols-2 gap-10 lg:gap-20">
        <div>
          <h3
            data-aos="fade-up"
            data-aos-delay="200"
            className="text-2xl   font-bold"
          >
            ¡Contactenos!
          </h3>
          <p
            data-aos="fade-up"
            data-aos-delay="200"
            className="text-black mt-2"
          >
            ¿Necesita más información?
          </p>
          <p
            data-aos="fade-up"
            data-aos-delay="200"
            className="text-black mt-2"
          >
            ¿Necesita atención personalizada?
          </p>
          <p
            data-aos="fade-up"
            data-aos-delay="200"
            className="text-black mt-2"
          >
            Nuestro departamento de Atención al Cliente atenderá
            <br />
            todas sus necesidades
          </p>

          <div className="pt-10 border-t-4 mt-5 border-red-800">
            <svg
              width="226"
              height="196"
              viewBox="0 0 226 196"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <g clipPath="url(#clip0_1133_11)">
                <path
                  d="M173.156 151.019C157.833 151.019 143.181 151.019 128.282 151.019C128.282 158.364 128.282 165.489 128.282 173.231C131.707 173.231 135.035 173.134 138.362 173.249C148.274 173.584 155.344 178.943 157.604 187.728C159.201 193.934 157.701 195.947 151.416 195.947C105.528 195.956 59.6395 195.956 13.751 195.947C4.25378 195.947 0.0171119 191.727 0.0171119 182.263C-0.0093673 151.955 -0.000540901 121.656 -0.000540901 91.3476C-0.000540901 79.2173 2.46203 76.454 15.0396 74.9532C15.0396 73.4524 15.0396 71.8897 15.0396 70.3271C15.0396 53.9945 15.022 37.6707 15.0485 21.3381C15.0661 7.63641 22.6568 0.0174756 36.3466 0.00864721C87.3808 -0.00900965 138.415 -0.000181216 189.458 0.00864721C203.404 0.00864721 210.933 7.58344 210.942 21.5942C210.959 45.2808 210.95 68.9675 210.95 92.6454C210.95 94.2433 210.95 95.8324 210.95 97.7482C212.071 97.8365 212.892 97.9248 213.722 97.9601C221.772 98.3044 225.955 102.648 225.973 110.903C226.008 129.001 225.982 147.09 225.982 165.189C225.982 171.368 226.044 177.548 225.964 183.728C225.858 191.259 221.366 195.832 213.863 195.92C204.454 196.026 195.036 196.017 185.628 195.929C177.86 195.859 173.324 191.374 173.209 183.534C173.076 174.414 173.173 165.295 173.173 156.175C173.156 154.586 173.156 152.997 173.156 151.019ZM22.7804 75.3152C32.1982 75.3152 41.1393 75.2887 50.0716 75.324C60.0719 75.3593 70.0811 75.1739 80.0549 75.6683C83.0471 75.8184 84.9006 75.2799 86.9219 73.2317C97.4518 62.5404 108.105 51.9816 118.723 41.3787C119.659 40.4429 120.506 39.0745 121.636 38.7743C123.11 38.377 125.423 38.2446 126.261 39.1009C127.126 39.975 127.047 42.2703 126.667 43.7624C126.385 44.8836 125.008 45.7488 124.072 46.6846C113.26 57.5082 102.43 68.3054 91.6616 79.1732C90.7349 80.109 89.6581 81.5127 89.6669 82.6869C89.7198 89.1317 90.1523 95.5676 90.3465 102.012C90.4524 105.606 90.3642 109.199 90.3642 112.695C118.414 112.695 145.688 112.695 172.926 112.695C173.915 100.856 177.101 97.9778 188.884 97.9778C193.554 97.9778 198.214 97.9778 202.813 97.9778C203.042 97.0949 203.245 96.68 203.245 96.2739C203.254 70.3801 203.36 44.4951 203.077 18.6013C203.051 15.8645 201.427 12.1742 199.308 10.6822C196.563 8.74879 192.583 7.77767 189.123 7.76884C138.389 7.59227 87.6456 7.64524 36.9026 7.64524C35.5787 7.64524 34.2547 7.64524 32.9396 7.76884C27.1936 8.32503 22.9128 12.2802 22.851 18.0893C22.648 36.9115 22.7804 55.7249 22.7804 75.3152ZM82.6322 173.019C82.747 172.048 82.8794 171.483 82.8794 170.918C82.8882 143.409 82.8617 115.891 82.9323 88.3813C82.9412 84.0641 80.7875 82.8811 76.8421 82.8988C56.1001 82.9959 35.3669 82.9429 14.6248 82.9429C8.19036 82.9429 7.59899 83.5168 7.59899 90.0322C7.59016 116.217 7.59016 142.411 7.60782 168.596C7.60782 170.009 7.77552 171.421 7.88144 173.011C32.9043 173.019 57.5741 173.019 82.6322 173.019ZM218.365 172.993C218.365 151.69 218.373 130.837 218.356 109.993C218.356 106.506 216.176 105.544 213.113 105.553C204.295 105.579 195.478 105.508 186.66 105.579C181.682 105.614 180.861 106.497 180.861 111.627C180.835 130.881 180.852 150.136 180.861 169.391C180.861 170.53 181.002 171.66 181.091 173.002C193.474 172.993 205.602 172.993 218.365 172.993ZM90.5583 142.826C118.273 142.826 145.52 142.826 172.776 142.826C172.776 135.313 172.776 128.083 172.776 121.046C145.167 121.046 117.938 121.046 90.5583 121.046C90.5583 128.453 90.5583 135.454 90.5583 142.826ZM8.08444 181.115C7.18415 187.065 8.11092 188.293 13.698 188.301C34.7313 188.337 55.7558 188.337 76.7892 188.301C82.3498 188.293 83.2854 187.048 82.4027 181.115C57.6447 181.115 32.8513 181.115 8.08444 181.115ZM90.1082 187.922C110.144 187.922 129.686 187.922 149.642 187.922C147.233 182.748 143.455 180.903 138.503 180.903C123.516 180.921 108.529 180.903 93.5505 180.921C92.5884 180.921 91.6263 181.15 90.5407 181.292C90.3906 183.605 90.2582 185.618 90.1082 187.922ZM105.784 151.037C105.784 158.629 105.784 165.745 105.784 172.958C110.762 172.958 115.405 172.958 120.268 172.958C120.268 165.551 120.268 158.408 120.268 151.037C115.378 151.037 110.727 151.037 105.784 151.037ZM218.082 181.265C205.505 181.265 193.262 181.265 181.047 181.265C180.764 187.604 181.382 188.284 187.331 188.31C195.566 188.337 203.801 188.346 212.036 188.31C217.809 188.284 218.576 187.374 218.082 181.265ZM97.7077 173.011C97.7077 165.436 97.7077 158.32 97.7077 151.125C95.2187 151.125 92.9856 151.125 90.6378 151.125C90.6378 158.567 90.6378 165.683 90.6378 173.011C93.065 173.011 95.2187 173.011 97.7077 173.011Z"
                  fill="#000000"
                />
                <path
                  d="M105.307 78.6702C106.419 77.187 107.151 75.9245 108.14 74.9357C119.72 63.291 131.353 51.6905 142.951 40.0723C144.858 38.1565 147.003 36.6027 149.359 38.9952C151.681 41.3435 150.215 43.5065 148.291 45.4311C136.667 57.0317 125.104 68.7029 113.365 80.1798C112.138 81.3805 109.843 81.8925 108.043 81.9102C107.204 81.919 106.348 79.9768 105.307 78.6702Z"
                  fill="#000000"
                />
                <path
                  d="M113.004 15.1143C115.494 15.1143 118.097 14.6817 120.436 15.2732C121.91 15.644 123.932 17.5333 123.976 18.7869C124.011 20.0317 121.946 22.3359 120.657 22.4507C115.573 22.8745 110.401 22.8745 105.317 22.4419C104.037 22.3359 101.971 20.0052 102.024 18.7692C102.077 17.5068 104.107 15.644 105.581 15.2732C107.912 14.6817 110.515 15.1054 113.004 15.1143Z"
                  fill="#000000"
                />
                <path
                  d="M69.1274 123.836C68.1918 125.24 67.6181 126.458 66.7354 127.368C62.0133 132.197 57.2029 136.955 52.4278 141.74C50.5655 143.603 48.4824 144.592 46.3111 142.403C44.3252 140.39 45.1637 138.359 46.9025 136.611C51.8718 131.605 56.7881 126.547 61.9339 121.718C62.8959 120.817 64.9172 120.393 66.2235 120.711C67.318 120.985 68.0859 122.645 69.1274 123.836Z"
                  fill="#000000"
                />
                <path
                  d="M45.7031 124.251C44.794 125.761 44.2291 127.244 43.2141 128.295C38.9509 132.727 34.5554 137.035 30.204 141.396C28.3151 143.294 26.1703 144.875 23.8048 142.447C21.5011 140.081 22.9575 137.927 24.8817 136.02C29.6656 131.27 34.3436 126.414 39.2599 121.815C40.2573 120.879 42.1991 120.314 43.4965 120.579C44.3615 120.746 44.847 122.724 45.7031 124.251Z"
                  fill="#000000"
                />
                <path
                  d="M208.779 133.821C208.276 135.022 208.144 136.002 207.587 136.576C204.039 140.248 200.553 144.027 196.669 147.329C195.698 148.15 192.697 148 191.824 147.117C190.967 146.252 190.906 143.259 191.753 142.27C195.072 138.403 198.779 134.845 202.592 131.438C203.43 130.687 205.416 130.617 206.59 131.032C207.552 131.376 208.099 132.903 208.779 133.821Z"
                  fill="#000000"
                />
                <path
                  d="M113.313 137.061C111.513 134.792 109.483 133.318 109.668 132.206C109.915 130.714 111.866 129.504 113.084 128.171C114.275 129.381 116.261 130.493 116.438 131.835C116.597 133.106 114.867 134.625 113.313 137.061Z"
                  fill="#000000"
                />
              </g>
              <defs>
                <clipPath id="clip0_1133_11">
                  <rect width="226" height="196" fill="white" />
                </clipPath>
              </defs>
            </svg>
          </div>
        </div>
        <div>
          <div>
            <h3
              data-aos="fade-up"
              data-aos-delay="200"
              className="  text-2xl font-bold mb-3"
            >
              Solicite su presupuesto
            </h3>
            <p
              data-aos="fade-up"
              data-aos-delay="200"
              className="text-black"
            >
              Esperamos tu consulta, escribínos o solicitá tu
              presupuesto.
            </p>

            <form
              data-aos="fade-up"
              data-aos-delay="200"
              onSubmit={handleSendEmail}
              className="mt-10"
            >
              <div>
                <input
                  value={infoEmail.name}
                  onChange={(e: any) =>
                    setInfoEmail({
                      ...infoEmail,
                      name: e.target.value,
                    })
                  }
                  type="text"
                  placeholder="Nombre y Apellido*"
                  className="h-[53px] placeholder:text-neutral-800 shadow-[0px_2px_2px_0px_rgba(0,_0,_0,_0.15)] px-6 w-full"
                />

                <div className="mt-0 lg:mt-6 gap-4 lg:gap-8">
                  <input
                    value={infoEmail.email}
                    onChange={(e: any) =>
                      setInfoEmail({
                        ...infoEmail,
                        email: e.target.value,
                      })
                    }
                    type="text"
                    placeholder="E-mail*"
                    className="h-[53px] placeholder:text-neutral-800 shadow-[0px_2px_2px_0px_rgba(0,_0,_0,_0.15)] px-6 w-full"
                  />
                </div>

                <textarea
                  value={infoEmail.body}
                  onChange={(e: any) =>
                    setInfoEmail({
                      ...infoEmail,
                      body: e.target.value,
                    })
                  }
                  placeholder="Mensaje*"
                  className="pt-1 h-[116px] placeholder:text-neutral-800 mt-6 resize-none shadow-[0px_2px_2px_0px_rgba(0,_0,_0,_0.15)] px-6 w-full"
                />

                <div className="flex mt-5">
                  <button
                    type="submit"
                    className="block placeholder:text-neutral-800 px-10 text-white  py-2 bg-red-800"
                  >
                    {!loading ? "Enviar" : "Enviando.."}
                  </button>
                </div>
              </div>
            </form>
          </div>
        </div>
      </div>
    </Layout>
  );
}
